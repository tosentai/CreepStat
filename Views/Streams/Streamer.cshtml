@model Streamer

<div class="container mx-auto p-4 text-white">
    <div class="max-w-full mx-auto">
        <div class="grid grid-cols-1 xl:grid-cols-5 gap-4 mb-6">
            <div class="xl:col-span-4 bg-gray-800 rounded-2xl shadow-lg p-4">
                <h3 class="text-2xl font-bold mb-4">🎮 Live Stream</h3>
                <div class="relative rounded-xl overflow-hidden bg-black">
                    <iframe src="https://player.twitch.tv/?channel=@Model.Username&parent=localhost&parent=yourdomain.com&autoplay=false&muted=false"
                            height="700"
                            width="100%"
                            allowfullscreen="true"
                            scrolling="no"
                            frameborder="0">
                    </iframe>
                </div>
            </div>

            <div class="xl:col-span-1 bg-gray-800 rounded-2xl shadow-lg p-4">
                <h4 class="text-lg font-semibold mb-4">💬 Chat</h4>
                <div class="rounded-xl overflow-hidden">
                    <iframe src="https://www.twitch.tv/embed/@Model.Username/chat?parent=localhost&parent=yourdomain.com&darkpopout"
                            height="700"
                            width="100%"
                            frameborder="0"
                            scrolling="no">
                    </iframe>
                </div>
            </div>
        </div>

        <div class="bg-gray-800 rounded-2xl shadow-lg p-6">
            <div class="flex items-center space-x-6 mb-6">
                <img src="@Model.ProfileImageUrl" class="rounded-full w-28 h-28 object-cover border-4 border-gray-700" alt="Avatar" />
                <div>
                    <h2 class="text-3xl font-bold">@Model.DisplayName</h2>
                    <p class="text-gray-400">@@@Model.Username</p>
                    <a href="https://twitch.tv/@Model.Username" target="_blank" class="inline-flex items-center mt-2 text-purple-400 hover:text-purple-300 font-medium">
                        Visit the channel on Twitch
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </a>
                </div>
            </div>

            @if (!string.IsNullOrEmpty(Model.Description))
            {
                <div class="bg-gray-900 rounded-xl p-4">
                    <h4 class="text-lg font-semibold mb-2">Channel description</h4>
                    <p class="text-gray-300 leading-relaxed">@Model.Description</p>
                </div>
            }
        </div>

        <div class="mt-6 text-center">
            <a href="/Streams" class="inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-300">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Back to the list of streams
            </a>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const iframes = document.querySelectorAll('iframe');
        iframes.forEach(iframe => {
            iframe.addEventListener('error', function () {
                console.log('Error loading Twitch content');
            });
        });
    });
</script>